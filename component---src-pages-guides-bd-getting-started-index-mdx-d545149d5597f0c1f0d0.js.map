{"version":3,"file":"component---src-pages-guides-bd-getting-started-index-mdx-d545149d5597f0c1f0d0.js","mappings":"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","sources":["webpack://zerthox.github.io/./src/pages/guides/bd/getting-started/index.mdx"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/zerthox.github.io/zerthox.github.io/src/templates/markdown.tsx\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst Banner = makeShortcode(\"Banner\");\nconst CodeTabs = makeShortcode(\"CodeTabs\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <Banner type=\"warn\" mdxType=\"Banner\">\n      <p><strong parentName=\"p\">{`This guide has not been updated!`}</strong></p>\n      <p>{`The Discord update on 27 September 2022 contained some major changes to fundamental characteristics of their production code.\nA lot of named exports have had their names minified and module exports became read-only properties.\nThis changes the way internals can be used substantially.`}</p>\n    </Banner>\n    <Banner type=\"warn\" mdxType=\"Banner\">\n      <p>{`This article assumes you are familiar with modern `}<a parentName=\"p\" {...{\n          \"href\": \"https://developer.mozilla.org/en-US/docs/Web/JavaScript\"\n        }}>{`JavaScript`}</a>{`\nlike `}<a parentName=\"p\" {...{\n          \"href\": \"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions\"\n        }}>{`Arrow functions`}</a>{`,\n`}<a parentName=\"p\" {...{\n          \"href\": \"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment\"\n        }}>{`Destructuring`}</a>{`\nand `}<a parentName=\"p\" {...{\n          \"href\": \"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining\"\n        }}>{`Optional Chaining`}</a>{`\nas well as the `}<a parentName=\"p\" {...{\n          \"href\": \"https://reactjs.org\"\n        }}>{`React`}</a>{` UI library!`}</p>\n    </Banner>\n    <h2>{`Environment`}</h2>\n    <p>{`As you may already know, the Discord desktop application uses `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.electronjs.org\"\n      }}>{`Electron`}</a>{`.\nThe UI is created using `}<a parentName=\"p\" {...{\n        \"href\": \"https://reactjs.org\"\n      }}>{`React`}</a>{` and all of the data is handled by a custom event system and a custom `}<a parentName=\"p\" {...{\n        \"href\": \"https://facebook.github.io/flux/\"\n      }}>{`Flux`}</a>{` implementation.\nTheir source is most likely written in `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.typescriptlang.org\"\n      }}>{`TypeScript`}</a>{`, however that is mostly irrelevant for plugin development.\nEverything is transpiled and then bundled together using `}<a parentName=\"p\" {...{\n        \"href\": \"https://webpack.js.org\"\n      }}>{`webpack`}</a>{`.`}</p>\n    <p>{`Thanks to being based on `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.chromium.org/Home\"\n      }}>{`Chromium`}</a>{`, Electron's renderer window has the `}<a parentName=\"p\" {...{\n        \"href\": \"https://developer.chrome.com/docs/devtools/\"\n      }}>{`Chrome DevTools`}</a>{`.\nSince the Discord update on 25 January 2022 they are disabled by default.\nYou can reenable them in BetterDiscord's developer settings.`}</p>\n    <p><span parentName=\"p\" {...{\n        \"className\": \"gatsby-resp-image-wrapper\",\n        \"style\": {\n          \"position\": \"relative\",\n          \"display\": \"block\",\n          \"marginLeft\": \"unset\",\n          \"marginRight\": \"unset\",\n          \"maxWidth\": \"688px\",\n          \"marginTop\": \"10px\",\n          \"marginBottom\": \"10px\"\n        }\n      }}>{`\n      `}<a parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-link\",\n          \"href\": \"/static/4f1328e274d88a5a8c049d1e90d36d21/ebf47/bd-devtools-setting.png\",\n          \"style\": {\n            \"display\": \"block\"\n          },\n          \"target\": \"_blank\",\n          \"rel\": \"noopener\"\n        }}>{`\n    `}<span parentName=\"a\" {...{\n            \"className\": \"gatsby-resp-image-background-image\",\n            \"style\": {\n              \"paddingBottom\": \"27.42857142857143%\",\n              \"position\": \"relative\",\n              \"bottom\": \"0\",\n              \"left\": \"0\",\n              \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAuUlEQVQY04XQ3QqCQBAF4H2jysxV13XV9TdlRRMK664X6LanP+EYIkF18cGwsIc5w7LSwHRnVHUHFRcQoYbNJQ5uuLBX85rjKbJ3AlRNT5jOGzRmQHFs4UtNRJguApWRz3nieHPozhbohpGw6cEVMbwgmT+sw/4GzhtyP8LW8rDZcjCd1ajNCVKltDrV4e+qXP5EtX0Fy/KR3a+4PR9g093y0iAtGqikXES6pG3Wt/rGsgXytoe5jHgBHMGtuMBCWFwAAAAASUVORK5CYII=')\",\n              \"backgroundSize\": \"cover\",\n              \"display\": \"block\"\n            }\n          }}></span>{`\n  `}<img parentName=\"a\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"alt\": \"BetterDiscord dev tools settings\",\n            \"title\": \"BetterDiscord dev tools settings\",\n            \"src\": \"/static/4f1328e274d88a5a8c049d1e90d36d21/ebf47/bd-devtools-setting.png\",\n            \"srcSet\": [\"/static/4f1328e274d88a5a8c049d1e90d36d21/4edbd/bd-devtools-setting.png 175w\", \"/static/4f1328e274d88a5a8c049d1e90d36d21/13ae7/bd-devtools-setting.png 350w\", \"/static/4f1328e274d88a5a8c049d1e90d36d21/ebf47/bd-devtools-setting.png 688w\"],\n            \"sizes\": \"(max-width: 688px) 100vw, 688px\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            },\n            \"loading\": \"lazy\",\n            \"decoding\": \"async\"\n          }}></img>{`\n  `}</a>{`\n    `}</span></p>\n    <p>{`Afterwards you can access the dev tools by pressing `}<inlineCode parentName=\"p\">{`Ctrl`}</inlineCode>{` + `}<inlineCode parentName=\"p\">{`Shift`}</inlineCode>{` + `}<inlineCode parentName=\"p\">{`I`}</inlineCode>{` (or `}<inlineCode parentName=\"p\">{`Cmd`}</inlineCode>{` + `}<inlineCode parentName=\"p\">{`Opt`}</inlineCode>{` + `}<inlineCode parentName=\"p\">{`I`}</inlineCode>{` on a Mac).\nThe dev tools will be `}<strong parentName=\"p\">{`extremely important`}</strong>{` for any kind of reverse engineering later on and can be used to experiment in the console.`}</p>\n    <h2>{`React Dev Tools`}</h2>\n    <p>{`React Developer Tools extends the regular dev tools with React specific tabs.\nIf you have debugged a React application before, you should be familiar with them.\nThey will be very helpful when working with Discord's own React components.`}</p>\n    <p>{`In order to use them in Discord, you will need to have a `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.google.com/intl/en_us/chrome/\"\n      }}>{`Chrome`}</a>{` installation on your computer.\nInstall the `}<a parentName=\"p\" {...{\n        \"href\": \"https://chrome.google.com/webstore/detail/react-developer-tools/fmkadmapgofadopljbjfkapdkoienihi/\"\n      }}>{`React Developer Tools extension`}</a>{` from the Chrome Web Store.\n`}<em parentName=\"p\">{`(As an alternative manually mimicking the folder structure and placing the extension files in there will also suffice.)`}</em>{`\nThen enable the setting in BetterDiscord's developer settings and the dev tools will automatically be loaded in Discord as well.`}</p>\n    <p><span parentName=\"p\" {...{\n        \"className\": \"gatsby-resp-image-wrapper\",\n        \"style\": {\n          \"position\": \"relative\",\n          \"display\": \"block\",\n          \"marginLeft\": \"unset\",\n          \"marginRight\": \"unset\",\n          \"maxWidth\": \"690px\",\n          \"marginTop\": \"10px\",\n          \"marginBottom\": \"10px\"\n        }\n      }}>{`\n      `}<a parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-link\",\n          \"href\": \"/static/e3b8b7ebc174f0252c4bbd47349adcd7/1e043/react-dev-tools.png\",\n          \"style\": {\n            \"display\": \"block\"\n          },\n          \"target\": \"_blank\",\n          \"rel\": \"noopener\"\n        }}>{`\n    `}<span parentName=\"a\" {...{\n            \"className\": \"gatsby-resp-image-background-image\",\n            \"style\": {\n              \"paddingBottom\": \"64.57142857142857%\",\n              \"position\": \"relative\",\n              \"bottom\": \"0\",\n              \"left\": \"0\",\n              \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACh0lEQVQ4y1WT6W7TQBSF/RoI1DVxvM54d+wkjtUmcRYKlFIW0QISAgQSqEW0VUUrQCAQIPGPF+BFP2S7KeHHsaXRne+eM3dG8fwY6QR4QRvHDXG9COmGOF6EkD5BlKDpgtUVk5XVda5eW8IwBKbtYpoO3SgmiiKCMEU4AYrwO1hOG1tGWE6M7bQRXoJuB7RMv5Jm+aiGh2YF+HGfjt8hTHJU06NpeFhOUq2X+xXZn+JNdnF6BZabVJs0O6z/C9LtkIbm8PrgiPH1HVpmuRZhiBBD+FWN7SYodtRHZmOsdIAdZmiGVzuz/jmsXQastyRvDt4xLG7j+wPieELYbuOGDqpRN1ZMN0XmU+zeGNEZYoUZuojRLiCLKoGnZx+Zbt3BDXpIr40hgsrtvEYp48lsgugWGG6K5iQYMr50tag1VXL+4Qu3dh6QZkPSbIRwk/9qlfIj0gFmsonXG2H7nYsBhHXsC5WN11qSsw9f6G9MKremjCvI4tEommpjRxlBsc3w5j3Cdo7WEmja/9J1yfqazvn5J/LBjDVVXMK0edPSYaM7Qd28TfH0kMdHH+nff4aabdHozWguSM1mLCcF77/9It+YVG71hdswBytL+yesPjrBf/sD6/AnrRefWN4/ZmlvriOW9o9ZeXTClYfHnP7+Q54Xl8DFW1BFbgY5qp9jju5gX9/DmjzAHmyj9aZo2Qwj38JIR6hBzorscvb5O/nmtBpQCSkfxRxcR+5MaCQFZnEPcfcF3YevCG/sY21uYw12UPtbNLszmp0py/GQ91//Ra4G6qXVcC6BzXRMoz1C39hG7j7Hv/+ScOcpg90n9G7toXXrhmo6ZjkccPr5Rw1U68jqxUOYR/4Lu6WwTaBlxwAAAAAASUVORK5CYII=')\",\n              \"backgroundSize\": \"cover\",\n              \"display\": \"block\"\n            }\n          }}></span>{`\n  `}<img parentName=\"a\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"alt\": \"React dev tools\",\n            \"title\": \"React dev tools\",\n            \"src\": \"/static/e3b8b7ebc174f0252c4bbd47349adcd7/1e043/react-dev-tools.png\",\n            \"srcSet\": [\"/static/e3b8b7ebc174f0252c4bbd47349adcd7/4edbd/react-dev-tools.png 175w\", \"/static/e3b8b7ebc174f0252c4bbd47349adcd7/13ae7/react-dev-tools.png 350w\", \"/static/e3b8b7ebc174f0252c4bbd47349adcd7/1e043/react-dev-tools.png 690w\"],\n            \"sizes\": \"(max-width: 690px) 100vw, 690px\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            },\n            \"loading\": \"lazy\",\n            \"decoding\": \"async\"\n          }}></img>{`\n  `}</a>{`\n    `}</span></p>\n    <h2>{`BetterDiscord API`}</h2>\n    <p><a parentName=\"p\" {...{\n        \"href\": \"https://betterdiscord.app\"\n      }}>{`BetterDiscord`}</a>{`'s full API will `}<strong parentName=\"p\">{`not`}</strong>{` be covered here in details.\nYou can find additional information on the `}<a parentName=\"p\" {...{\n        \"href\": \"https://docs.betterdiscord.app/\"\n      }}>{`BetterDiscord documentation`}</a>{` (still work in progress).\nIf you encounter any outdated or unclear parts, you should ask in the `}<a parentName=\"p\" {...{\n        \"href\": \"https://discord.gg/0Tmfo5ZbORCRqbAd\"\n      }}>{`BetterDiscord server`}</a>{`.`}</p>\n    <p>{`A basic BetterDiscord plugin could look something like this:`}</p>\n    <CodeTabs names={[\"Class\", \"Callback\"]} mdxType=\"CodeTabs\">\n      <pre><code parentName=\"pre\" {...{\n          \"className\": \"language-js\"\n        }}>{`/**\n * @name MyPlugin\n * @author YourName\n * @version 0.1.0\n * @description What the plugin does.\n */\n\nmodule.exports = class MyPlugin {\n    constructor(meta) {\n        // do something when the plugin is loaded\n    }\n    start() {\n        // do something on plugin start\n    }\n    stop() {\n        // do something on plugin stop\n    }\n};\n`}</code></pre>\n      <pre><code parentName=\"pre\" {...{\n          \"className\": \"language-js\"\n        }}>{`/**\n * @name MyPlugin\n * @author YourName\n * @version 0.1.0\n * @description What the plugin does.\n */\n\nmodule.exports = (meta) => {\n    // do something when the plugin is loaded\n\n    return {\n        start() {\n            // do something on plugin start\n        },\n        stop() {\n            // do something on plugin stop\n        }\n    };\n};\n`}</code></pre>\n    </CodeTabs>\n    <p>{`BetterDiscord also provides the `}<a parentName=\"p\" {...{\n        \"href\": \"https://docs.betterdiscord.app/plugins/api/bdapi\"\n      }}><inlineCode parentName=\"a\">{`BdApi`}</inlineCode></a>{` global, which has a few very helpful things for plugins.\nIt handles storing & loading plugin data as well as injecting & removing styles (CSS).`}</p>\n    <p>{`The `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.npmjs.com/package/react\"\n      }}>{`react`}</a>{` and `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.npmjs.com/package/react-dom\"\n      }}>{`react-dom`}</a>{` packages are available as\n`}<a parentName=\"p\" {...{\n        \"href\": \"https://docs.betterdiscord.app/plugins/api/bdapi#react\"\n      }}><inlineCode parentName=\"a\">{`BdApi.React`}</inlineCode></a>{` and `}<a parentName=\"p\" {...{\n        \"href\": \"https://docs.betterdiscord.app/plugins/api/bdapi#reactdom\"\n      }}><inlineCode parentName=\"a\">{`BdApi.ReactDOM`}</inlineCode></a>{`.\nThey are the same instances as the ones used by Discord. Always use these and `}<strong parentName=\"p\">{`do not`}</strong>{` bundle your own versions.`}</p>\n    <Banner type=\"info\" mdxType=\"Banner\">\n      <p>{`When using `}<a parentName=\"p\" {...{\n          \"href\": \"https://reactjs.org/docs/introducing-jsx.html\"\n        }}>{`JSX`}</a>{` in a plugin, it has to be transpiled.`}</p>\n    </Banner>\n    <CodeTabs names={[\"JSX\", \"JS\"]} mdxType=\"CodeTabs\">\n      <pre><code parentName=\"pre\" {...{\n          \"className\": \"language-jsx\"\n        }}>{`const {React} = BdApi;\n\nconst MyComponent = () => (\n    <div className=\"foo\">\n        Hello world!\n    </div>\n);\n`}</code></pre>\n      <pre><code parentName=\"pre\" {...{\n          \"className\": \"language-jsx\"\n        }}>{`const {React} = BdApi;\n\nconst MyComponent = () => React.createElement(\n    \"div\",\n    {className: \"foo\"},\n    \"Hello World!\"\n);\n`}</code></pre>\n    </CodeTabs>\n    <p><inlineCode parentName=\"p\">{`ReactDOM`}</inlineCode>{` will not see much use in actual plugins, since most of the time you are rendering into already existing React element trees.`}</p>\n    <p>{`In `}<inlineCode parentName=\"p\">{`BdApi`}</inlineCode>{` we also find the `}<a parentName=\"p\" {...{\n        \"href\": \"https://docs.betterdiscord.app/plugins/api/patcher\"\n      }}><inlineCode parentName=\"a\">{`BdApi.Patcher`}</inlineCode></a>{`, which is used to modify existing functions at runtime.\nMore details on patching will follow later on.`}</p>\n    <p>{`Lastly, `}<a parentName=\"p\" {...{\n        \"href\": \"https://docs.betterdiscord.app/plugins/api/webpack\"\n      }}><inlineCode parentName=\"a\">{`BdApi.Webpack`}</inlineCode></a>{` features a few utilities used to search through the webpack export cache.\nWe will take a closer look at this next.`}</p>\n    <h2>{`Webpack modules`}</h2>\n    <p><a parentName=\"p\" {...{\n        \"href\": \"https://webpack.js.org\"\n      }}>{`Webpack`}</a>{` is a `}<strong parentName=\"p\">{`bundler`}</strong>{`, meaning at its core it is a tool to take a collection of JS modules and merge them together into one or multiple big files for production.\nA module may import other modules and then expose some exports of its own.\nIn order to avoid executing the modules multiple times, webpack keeps exports of already executed modules in a cache.`}</p>\n    <p><a parentName=\"p\" {...{\n        \"href\": \"https://docs.betterdiscord.app/plugins/api/webpack\"\n      }}><inlineCode parentName=\"a\">{`BdApi.Webpack`}</inlineCode></a>{` allows us to search through this export cache\nin order to find variables, functions, objects or React components internally used by Discord.\n`}<a parentName=\"p\" {...{\n        \"href\": \"https://docs.betterdiscord.app/plugins/api/webpack#getmodule\"\n      }}><inlineCode parentName=\"a\">{`Webpack.getModule(filter, options)`}</inlineCode></a>{` takes a filter function and searches through the exports of all currently cached modules.`}</p>\n    <p><a parentName=\"p\" {...{\n        \"href\": \"https://docs.betterdiscord.app/plugins/api/filters\"\n      }}><inlineCode parentName=\"a\">{`Webpack.Filters`}</inlineCode></a>{` contains helpers to create commonly used search filter patterns.\nThe two most used ones are `}<a parentName=\"p\" {...{\n        \"href\": \"https://docs.betterdiscord.app/plugins/api/filters#byprops\"\n      }}><inlineCode parentName=\"a\">{`Filters.byProps(...props)`}</inlineCode></a>{`\nand `}<a parentName=\"p\" {...{\n        \"href\": \"https://docs.betterdiscord.app/plugins/api/filters#bydisplayname\"\n      }}><inlineCode parentName=\"a\">{`Filters.byDisplayName(name)`}</inlineCode></a>{`,\nsearching by properties of `}<inlineCode parentName=\"p\">{`module.exports`}</inlineCode>{` and a specific `}<inlineCode parentName=\"p\">{`displayName`}</inlineCode>{` on the export respectively.`}</p>\n    <p>{`When trying to hook into Discord's internals, searching for the relevant webpack modules is the first step.\nThis may involve reading Discord's source code, inspecting components through React dev tools, experimenting in the console etc.`}</p>\n    <Banner type=\"warn\" mdxType=\"Banner\">\n      <p>{`Details in the following examples `}<strong parentName=\"p\">{`are outdated`}</strong>{`.\nDiscord's internals are undocumented and can change at any time.`}</p>\n    </Banner>\n    <p>{`As an example, we will use Discord's message component.\nInspecting with React dev tools makes us realize a message consists of multiple components.\nOne parent component is responsible for rendering child components like the header, the content or accessories like reactions.`}</p>\n    <p><span parentName=\"p\" {...{\n        \"className\": \"gatsby-resp-image-wrapper\",\n        \"style\": {\n          \"position\": \"relative\",\n          \"display\": \"block\",\n          \"marginLeft\": \"unset\",\n          \"marginRight\": \"unset\",\n          \"maxWidth\": \"364px\",\n          \"marginTop\": \"10px\",\n          \"marginBottom\": \"10px\"\n        }\n      }}>{`\n      `}<a parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-link\",\n          \"href\": \"/static/2eb6db5d729737f1027b41cd8b760b83/e45a9/message-components.png\",\n          \"style\": {\n            \"display\": \"block\"\n          },\n          \"target\": \"_blank\",\n          \"rel\": \"noopener\"\n        }}>{`\n    `}<span parentName=\"a\" {...{\n            \"className\": \"gatsby-resp-image-background-image\",\n            \"style\": {\n              \"paddingBottom\": \"129.14285714285714%\",\n              \"position\": \"relative\",\n              \"bottom\": \"0\",\n              \"left\": \"0\",\n              \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaCAYAAAC3g3x9AAAACXBIWXMAAA7DAAAOwwHHb6hkAAADS0lEQVRIx62Uy2/jZBTF82/ABqG849hOmqfzftqJncROkybqtNO06WQmI2AkFkg8ZpDYdcWIgQ0IBBILQBpU/sMf+pzHJKFNs2Bx9PlxfXzuPfdeTzCaRCC0PCNyCrmgE2s4qA2HWKZBPN0gU2lRaXTIFpsktSpVvUcsXaLZGfJ4MiOeLhFW0nhCUoIVglLCJVTLbY7MEXFzxJGmk0jrFJpdDGtATe9RrlvUDZtYqkjbHvHs+QtS2QqSIHynMLVQqGaQKxaqOUYxx8RzLRJaG02QtPvkayapQoOK3kNJFmk7Y67nL4hnq4TVDJ73X/7KO/zGe1/8TPzmT8rf3VJ58w/+V7/wwec/Unz9ltqbW0qv/6b87Vvq39+i3PyF/OonUl/9QPLmD7zf/I7nw+4VW7AmSMM5idmXJOZfE738DOl4RtCeEloi7Fy7p683xWtdEDDP1/cef7rOLoLZJhH9BLU5IJQzCGYaeFO1/8CXqrnxvnR9fe/x5Vrswp9rEa7YqM4Vcn+K1DlHrtrLd+0lFnGr+NW1x7/5QDPWL4L5FlHrjNjpRyijOXHrlEjRXMfsfrPCvYR+zSBctVH6Uzf1YNEikG9vffwg4S5pQDOImo+ItcZE8i28WR1v1nBPEbeO3SD17PujuA6XuyjH16iDa8LmGf3pJzhXHyOVu67iBxXepVK2zlBHz1DHz0nZFyT1weEp36dSHT5FHszcegZyLbw7MXsJN9tBBIdKHZTuY9R63zVrn4h7CbeIhTmtMWp/6vbj/0IoJiduPSJSWPaicPkOt++t4VZLZHWixhj1eOo6LqYnal+iDJ6gLBUfpHBVP7k3QR3OFgTDGTF7wuTTl1RH10TL3cNMWbdNzkDunKOcPHVbx1XnXKHZ50gla7vN9qW8IhR1CguV9iUx/cQdQb+o412lebBtNAPJGLl1EwrFCEpFc2v0DiZcBUXEghg8QR3NF4Z0L4j2LpA6i77cHb+DRi9qnqKKnVhz8ImNUzDxFyyCy+1z2KSsU9EJl3uoG+rUuuP+SGyezXjvg6Zoy8LnWq67ymCG7FyhOJeLDSTmW2x18Ww448g42W9KQNMXW9s6Q6508YlURZp5k4BYuMWOm36gsLgOFkz+BZgugNfEt5yCAAAAAElFTkSuQmCC')\",\n              \"backgroundSize\": \"cover\",\n              \"display\": \"block\"\n            }\n          }}></span>{`\n  `}<img parentName=\"a\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"alt\": \"Message components\",\n            \"title\": \"Message components\",\n            \"src\": \"/static/2eb6db5d729737f1027b41cd8b760b83/e45a9/message-components.png\",\n            \"srcSet\": [\"/static/2eb6db5d729737f1027b41cd8b760b83/4edbd/message-components.png 175w\", \"/static/2eb6db5d729737f1027b41cd8b760b83/13ae7/message-components.png 350w\", \"/static/2eb6db5d729737f1027b41cd8b760b83/e45a9/message-components.png 364w\"],\n            \"sizes\": \"(max-width: 364px) 100vw, 364px\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            },\n            \"loading\": \"lazy\",\n            \"decoding\": \"async\"\n          }}></img>{`\n  `}</a>{`\n    `}</span></p>\n    <p>{`You can inspect a components source by clicking on the `}<inlineCode parentName=\"p\">{`<>`}</inlineCode>{` in React dev tools.\nThe current props & hooks as well as the component type for the currently selected component can also be accessed in the console via the `}<inlineCode parentName=\"p\">{`$r`}</inlineCode>{` global.`}</p>\n    <p><span parentName=\"p\" {...{\n        \"className\": \"gatsby-resp-image-wrapper\",\n        \"style\": {\n          \"position\": \"relative\",\n          \"display\": \"block\",\n          \"marginLeft\": \"unset\",\n          \"marginRight\": \"unset\",\n          \"maxWidth\": \"206px\",\n          \"marginTop\": \"10px\",\n          \"marginBottom\": \"10px\"\n        }\n      }}>{`\n      `}<a parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-link\",\n          \"href\": \"/static/23ef94e2793863d698744a1935b52acd/a414c/view-source.png\",\n          \"style\": {\n            \"display\": \"block\"\n          },\n          \"target\": \"_blank\",\n          \"rel\": \"noopener\"\n        }}>{`\n    `}<span parentName=\"a\" {...{\n            \"className\": \"gatsby-resp-image-background-image\",\n            \"style\": {\n              \"paddingBottom\": \"36%\",\n              \"position\": \"relative\",\n              \"bottom\": \"0\",\n              \"left\": \"0\",\n              \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABa0lEQVQoz41R20oCURT1MwQFu3gZNTU1tTIki/FWpPPUjSnLprSH6FOiiAhCSoI+RFQmFRP7ggZ1FHHUZ2OFRy0fgnpYrL3WPnvvs9kyam4B/4HOaP+OpzUmaPRWqKl5zOosJKc12EhONlmgNzlgMDv/BJe4hGcthI3wNnZZDkaLEyurflIvGzQaT5/RmqFQ6aBQUVBMUb+zioLLvQ41ZYXZtgzHkhfKaT24+AUsdjdk418NVvDSmzg6OUc0lsDhcXwCQz3299gY2Ogp2OgZ9g844j2lXrDF7AwbmqyLkCs1SD4+47Pfh/AhoNvtQpIkwu12G81mE41GA61WC2JdREfqoFqtEl8URfR6PTwkU8OVjRYX5Eo1rq7vUKvVkU5nUC5XUCgUCXg+j9JbGfl8EZXK+1CXyshkc+D5V2SzOQiCgJvb+5+jDK5kd3pAByPwhRjQgTCJ6UAEvgEHR0w0Q7Q/xJC3vlFsd3nwBRCxKpwp+piWAAAAAElFTkSuQmCC')\",\n              \"backgroundSize\": \"cover\",\n              \"display\": \"block\"\n            }\n          }}></span>{`\n  `}<img parentName=\"a\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"alt\": \"View source\",\n            \"title\": \"View source\",\n            \"src\": \"/static/23ef94e2793863d698744a1935b52acd/a414c/view-source.png\",\n            \"srcSet\": [\"/static/23ef94e2793863d698744a1935b52acd/4edbd/view-source.png 175w\", \"/static/23ef94e2793863d698744a1935b52acd/a414c/view-source.png 206w\"],\n            \"sizes\": \"(max-width: 206px) 100vw, 206px\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            },\n            \"loading\": \"lazy\",\n            \"decoding\": \"async\"\n          }}></img>{`\n  `}</a>{`\n    `}</span></p>\n    <p>{`Here is a rough overview of the source code of the module containing the parent component:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`(e, t, n) => {\n    \"use strict\";\n    Object.defineProperty(t, \"__esModule\", {\n        value: !0\n    });\n\n    t.ThreadStarterChatMessage = function(e) {\n        /* component source... */\n    };\n    t.default = void 0;\n    t.getElementFromMessageId = function(e, t) {\n        /* function source... */\n    };\n\n    var r, o = /* React import */, /* other imports... */;\n\n    /* other not exported functions/components... */\n\n    var J = o.memo(function(e) { // OUR COMPONENT\n        /* component source... */\n    });\n    t.default = J\n}\n`}</code></pre>\n    <p>{`Our component is the anonymous function component inside of the `}<inlineCode parentName=\"p\">{`o.memo()`}</inlineCode>{` call.\nAs we can see, it is wrapped inside of a `}<a parentName=\"p\" {...{\n        \"href\": \"https://reactjs.org/docs/react-api.html#reactmemo\"\n      }}>{`React memo`}</a>{` and then exported as default export from its module.\nThe module also has two other named exports: a `}<inlineCode parentName=\"p\">{`ThreadStarterChatMessage`}</inlineCode>{` component and a `}<inlineCode parentName=\"p\">{`getElementFromMessageId()`}</inlineCode>{` function.`}</p>\n    <p>{`Knowing this, we can now formulate a predicate to find the module's exports in webpack's cache using `}<inlineCode parentName=\"p\">{`BdApi`}</inlineCode>{`.\nWe want a module whose exports have a `}<inlineCode parentName=\"p\">{`default`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`ThreadStarterChatMessage`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`getElementFromMessageId`}</inlineCode>{` entry.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`getModule((exports) => exports.default && exports.ThreadStarterChatMessage && exports.getElementFromMessageId);\n`}</code></pre>\n    <p>{`This type of predicate is exactly what `}<a parentName=\"p\" {...{\n        \"href\": \"https://docs.betterdiscord.app/plugins/api/filters#byprops\"\n      }}><inlineCode parentName=\"a\">{`Filters.byProps(...props)`}</inlineCode></a>{` can be used for:\nit searches for a module with the passed string arguments as properties/keys.\nAn equivalent version would look like:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`const Message = getModule(Filters.byProps(\"default\", \"ThreadStarterChatMessage\", \"getElementFromMessageId\"));\n`}</code></pre>\n    <p>{`When formulating predicates you have to consider how specific it should be.\nWhen being very specific you are unlikely to accidentally find a different module that also matches the predicate.\nHowever, a very specific predicate may also break very fast when Discord changes something in their internals.`}</p>\n    <p>{`Feel free to explore Discord's modules using the `}<inlineCode parentName=\"p\">{`BdApi`}</inlineCode>{` and the dev tools.\nYou do not always have to start with the UI layer and then navigate through source code until you find what you were looking for.\nSometimes taking a shot in the dark with your searches can help finding the right module as well.\nFor example, we could do a generic search for all modules exporting something with `}<inlineCode parentName=\"p\">{`\"friend\"`}</inlineCode>{` in the key:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`getModule(\n    (exports) => Object.keys(exports).some((key) => key.toLowerCase().includes(\"friend\")),\n    {first: false}\n)\n`}</code></pre>\n    <p>{`This example will `}<strong parentName=\"p\">{`not`}</strong>{` work if what we are looking for is not directly exported from the module as either a key of the default export or a named export.\nFor example the relationships store will not be included in the output since it is a class instance\nand the `}<inlineCode parentName=\"p\">{`isFriend()`}</inlineCode>{` method is defined on its `}<a parentName=\"p\" {...{\n        \"href\": \"https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Objects/Object_prototypes\"\n      }}>{`prototype`}</a>{`.\n`}<a parentName=\"p\" {...{\n        \"href\": \"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys\"\n      }}><inlineCode parentName=\"a\">{`Object.keys()`}</inlineCode></a>{` simply will not include the method.\nIf we know we are looking for a store instance, we could search through the keys of the prototype instead:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`getModule(\n    (exports) => Object.keys(Object.getPrototypeOf(exports)).some((key) => key.toLowerCase().includes(\"friend\")),\n    {first: false}\n)\n`}</code></pre>\n    <h2>{`Patching`}</h2>\n    <p>{`With the module found, we can now hook into the component.\nThis is done using the already mentioned `}<a parentName=\"p\" {...{\n        \"href\": \"https://docs.betterdiscord.app/plugins/api/patcher\"\n      }}><inlineCode parentName=\"a\">{`BdApi.Patcher`}</inlineCode></a>{`.\nIt allows us to change the behaviour of existing functions at runtime, executing our own code before, after or instead of the original.\nThis is commonly referred to as `}<em parentName=\"p\">{`\"monkey patching\"`}</em>{` or simply `}<em parentName=\"p\">{`\"patching\"`}</em>{`.`}</p>\n    <p>{`There is three different kinds of patches the `}<inlineCode parentName=\"p\">{`BdApi.Patcher`}</inlineCode>{` offers.\nTypically, you will use `}<inlineCode parentName=\"p\">{`before`}</inlineCode>{` patches when you want to intercept and manipulate the incoming function arguments,\n`}<inlineCode parentName=\"p\">{`after`}</inlineCode>{` patches when you want to intercept and manipulate the resulting return value\nand `}<inlineCode parentName=\"p\">{`instead`}</inlineCode>{` patches when the behaviour should be changed completely or for other complex scenarios.`}</p>\n    <p>{`In React components you typically want to modify the return value of the original in order to change the elements rendered.\nThis means we want to create an `}<inlineCode parentName=\"p\">{`after`}</inlineCode>{` patch.\nFor class components the target function is `}<inlineCode parentName=\"p\">{`Component.prototype.render()`}</inlineCode>{` usually.\nFor function components it is the component itself.`}</p>\n    <p>{`Remember: in our case we have a function component is wrapped inside a `}<a parentName=\"p\" {...{\n        \"href\": \"https://reactjs.org/docs/react-api.html#reactmemo\"\n      }}>{`React memo`}</a>{`.\nA memo stores the wrapped component in its `}<inlineCode parentName=\"p\">{`type`}</inlineCode>{` property.\nWe will simply leave the memo as it is and patch its `}<inlineCode parentName=\"p\">{`type`}</inlineCode>{` to hook into the contained function component.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`const Message = getModule(Filters.byProps(\"default\", \"ThreadStarterChatMessage\", \"getElementFromMessageId\"));\n\nPatcher.after(\"MyPluginName\", Message.default, \"type\", (thisObject, arguments, returnValue) => {\n    console.log(\"Original function received arguments:\", arguments);\n    console.log(\"Original function returned value:\", returnValue);\n});\n`}</code></pre>\n    <p>{`After the component has been patched, we still need to trigger a rerender.\nIn this case swapping channels will take care of it for us.\nWe should see output being logged into the console for each message that renders onscreen.`}</p>\n    <p><span parentName=\"p\" {...{\n        \"className\": \"gatsby-resp-image-wrapper\",\n        \"style\": {\n          \"position\": \"relative\",\n          \"display\": \"block\",\n          \"marginLeft\": \"unset\",\n          \"marginRight\": \"unset\",\n          \"maxWidth\": \"700px\",\n          \"marginTop\": \"10px\",\n          \"marginBottom\": \"10px\"\n        }\n      }}>{`\n      `}<a parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-link\",\n          \"href\": \"/static/9330ecfc8056cb2d3468fd489ee324e2/d48f1/console-output.png\",\n          \"style\": {\n            \"display\": \"block\"\n          },\n          \"target\": \"_blank\",\n          \"rel\": \"noopener\"\n        }}>{`\n    `}<span parentName=\"a\" {...{\n            \"className\": \"gatsby-resp-image-background-image\",\n            \"style\": {\n              \"paddingBottom\": \"22.285714285714285%\",\n              \"position\": \"relative\",\n              \"bottom\": \"0\",\n              \"left\": \"0\",\n              \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAwElEQVQY0zWPWXLDMAxDfZemE2ujFkq05MRt738pZEhPPzDkB/EIbCFmHPNEY0FtA8yCPiZKZZvCDCZCjRGNCD4Q1JMLg3IzJapwLuLr8cTmfMKQiVyaSUGNBxIVMxUiUIhIPiCFiN1FOB8NGsL9QPXc/Q1U+vXzBzkWRBaO+cL5uiyx7qt3SC0YmTBKRkwFRBW1dZR6S4Mo9PG9Y9OD9/WLIQtDKx4n5npbStuZDdQpoedsydSjTbTBf3UfkiX8AMAVfTSw7ldDAAAAAElFTkSuQmCC')\",\n              \"backgroundSize\": \"cover\",\n              \"display\": \"block\"\n            }\n          }}></span>{`\n  `}<img parentName=\"a\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"alt\": \"Console output\",\n            \"title\": \"Console output\",\n            \"src\": \"/static/9330ecfc8056cb2d3468fd489ee324e2/8c557/console-output.png\",\n            \"srcSet\": [\"/static/9330ecfc8056cb2d3468fd489ee324e2/4edbd/console-output.png 175w\", \"/static/9330ecfc8056cb2d3468fd489ee324e2/13ae7/console-output.png 350w\", \"/static/9330ecfc8056cb2d3468fd489ee324e2/8c557/console-output.png 700w\", \"/static/9330ecfc8056cb2d3468fd489ee324e2/d48f1/console-output.png 796w\"],\n            \"sizes\": \"(max-width: 700px) 100vw, 700px\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            },\n            \"loading\": \"lazy\",\n            \"decoding\": \"async\"\n          }}></img>{`\n  `}</a>{`\n    `}</span></p>\n    <p>{`The first argument received is the component props just as you would expect with a function component.\nIn the case of the message component those consist of the corresponding channel object, message object and some other information.\nThe second argument is an empty object since the component does not forward any refs (or makes use of React's legacy context API).`}</p>\n    <p>{`As to be expected, the return value is what a call to `}<a parentName=\"p\" {...{\n        \"href\": \"https://reactjs.org/docs/react-api.html#createelement\"\n      }}><inlineCode parentName=\"a\">{`React.createElement()`}</inlineCode></a>{` returns - a tree of React element nodes.\nThe most interesting properties on these nodes are `}<inlineCode parentName=\"p\">{`type`}</inlineCode>{`, which indicates what kind of element or component this tree node is,\nand `}<inlineCode parentName=\"p\">{`props`}</inlineCode>{`, which is the props passed to the HTML element or React component.\nChild nodes are found under `}<inlineCode parentName=\"p\">{`props.children`}</inlineCode>{`.`}</p>\n    <p>{`If we want to render our own elements somewhere, we have to find the node we want to append them to.\nThis can be done by using tree/graph traversal algorithms like `}<a parentName=\"p\" {...{\n        \"href\": \"https://en.wikipedia.org/wiki/Depth-first_search\"\n      }}>{`DFS`}</a>{` or `}<a parentName=\"p\" {...{\n        \"href\": \"https://en.wikipedia.org/wiki/Breadth-first_search\"\n      }}>{`BFS`}</a>{`.\nYou can find examples of utility functions for tree traversal in `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/rauenzi/BDPluginLibrary/blob/master/src/modules/utilities.js#L122-L165\"\n      }}>{`Zere's Plugin Library`}</a>{` (DFS)\nor `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/Zerthox/BetterDiscord-Plugins/blob/master/dium/src/utils/react.ts#L6-L29\"\n      }}>{`my own plugin repo`}</a>{` (BFS).`}</p>\n    <p>{`Assuming we have a `}<inlineCode parentName=\"p\">{`findNodeInTree(tree, predicate)`}</inlineCode>{` utility function to search the tree for a specific node, appending new elements could look like this:`}</p>\n    <CodeTabs names={[\"JSX\", \"JS\"]} mdxType=\"CodeTabs\">\n      <pre><code parentName=\"pre\" {...{\n          \"className\": \"language-jsx\"\n        }}>{`Patcher.after(\"MyPluginName\", Message.default, \"type\", (thisObject, [props], returnValue) => {\n    const foundNode = findNodeInTree(returnValue, (node) => node?.type === \"li\");\n    if (foundNode) {\n        foundNode.props.children = [\n            foundNode.props.children,\n            <div>\n                <span>This channel is</span>\n                <span>{props.channel.isPrivate() ? \"private\" : \"not private\"}</span>\n            </div>\n        ];\n    } else {\n        console.error(\"node was not found\");\n    }\n});\n`}</code></pre>\n      <pre><code parentName=\"pre\" {...{\n          \"className\": \"language-jsx\"\n        }}>{`Patcher.after(\"MyPluginName\", Message.default, \"type\", (thisObject, [props], returnValue) => {\n    const foundNode = findNodeInTree(returnValue, (node) => node?.type === \"li\");\n    if (foundNode) {\n        foundNode.props.children = [\n            foundNode.props.children,\n            React.createElement(\"div\", {},\n                React.createElement(\"span\", {}, \"This chanel is\"),\n                React.createElement(\"span\", {}, props.channel.isPrivate() ? \"private\" : \"not private\"),\n            )\n        ];\n    } else {\n        console.error(\"node was not found\");\n    }\n});\n`}</code></pre>\n    </CodeTabs>\n    <p>{`Remember to undo the patches you did in `}<inlineCode parentName=\"p\">{`start()`}</inlineCode>{` when your plugin is stopped:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`stop() {\n    Patcher.unpatchAll(\"MyPluginName\");\n}\n`}</code></pre>\n    <h2>{`Further information`}</h2>\n    <p>{`Hopefully this helped you a bit while getting started with developing BetterDiscord plugins and using Discord's internals.\nMake sure to check the `}<a parentName=\"p\" {...{\n        \"href\": \"https://docs.betterdiscord.app/\"\n      }}>{`BetterDiscord documentation`}</a>{` for information.\nReading the source code of other plugins can also help a lot when learning.\n`}<em parentName=\"p\">{`(Maybe not plugins using `}<inlineCode parentName=\"em\">{`BDFDB`}</inlineCode>{` by DevilBro as they can be difficult to read.)`}</em></p>\n    <p>{`React's internals and the React fiber have not been touched here at all, but may be interesting for plugin development in some cases.\nSame thing goes for Discord's internal state management system using event dispatching and Flux.`}</p>\n    <p>{`If you have any questions, the `}<inlineCode parentName=\"p\">{`#programming`}</inlineCode>{` channel in the `}<a parentName=\"p\" {...{\n        \"href\": \"https://discord.gg/0Tmfo5ZbORCRqbAd\"\n      }}>{`BetterDiscord server`}</a>{` is the place to ask.`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["_frontmatter","makeShortcode","name","props","console","warn","Banner","CodeTabs","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","type","parentName","names","isMDXComponent"],"sourceRoot":""}